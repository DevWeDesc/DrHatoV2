generator client {
  provider = "prisma-client-js"
}

generator erd {
  provider = "prisma-erd-generator"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  id       Int        @id @default(autoincrement())
  name     String     @unique
  username String
  password String
  userType String[]   @default(["admin", "user", "vet"])
  crmv     Int?
  schedule Schedule[]
}

model Transaction {
  id             Int      @id @default(autoincrement())
  title          String
  amount         Int
  type           String
  category       String
  createdAt      String
  transaction_id Int
  customer       Customer @relation(fields: [transaction_id], references: [id])
}

model Customer {
  id          Int           @id @unique @default(autoincrement())
  name        String        @unique
  adress      String
  phone       String        @unique
  cpf         String        @unique
  email       String
  birthday    String
  cep         String
  balance     Int?
  pets        Pets[]
  transaction Transaction[]
}

model Pets {
  id           Int      @id @default(autoincrement())
  name         String
  especie      String
  sexo         String
  race         String
  weigth       String
  status       String
  corPet       String
  sizePet      String
  bornDate     String
  observations String
  customer_id  Int
  codPet       String   @unique @default(uuid())
  rga          Int      @unique
  customer     Customer @relation(fields: [customer_id], references: [id])
}

model Schedule {
  id        Int      @id @default(autoincrement())
  plants    String[]
  plantId   Int
  plantsOur String[]
  users     User     @relation(fields: [plantId], references: [id])
}

model Autorizations {
  id   Int    @id @default(autoincrement())
  name String
  text String
}

model Exams {
  id               Int      @id @default(autoincrement())
  examsType        String[]
  name             String
  price            Decimal
  available        Boolean
  applicableGender String[]
  subName          String?
  description      String?
  ageRange         String[]
}
